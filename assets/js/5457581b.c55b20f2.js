"use strict";(self.webpackChunkupb_rustworkshop_github_io=self.webpackChunkupb_rustworkshop_github_io||[]).push([[514],{8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>i});var r=s(6540);const n={},o=r.createContext(n);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(o.Provider,{value:t},e.children)}},9027:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"edge_ai/chat_with_llm/structured_outputs","title":"Exercise 03: Structured Outputs","description":"Structured outputs are a way to format the model\'s responses, such that they can be parsed by other systems. Information extraction is a common use case for structured outputs, where the model is asked to extract specific information from a given text.","source":"@site/docs/edge_ai/chat_with_llm/3_structured_outputs.md","sourceDirName":"edge_ai/chat_with_llm","slug":"/edge_ai/chat_with_llm/structured_outputs","permalink":"/docs/edge_ai/chat_with_llm/structured_outputs","draft":false,"unlisted":false,"editUrl":"https://github.com/UPB-RustWorkshop/upb-rustworkshop.github.io/edit/main/docs/edge_ai/chat_with_llm/3_structured_outputs.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Exercise 02: Retrieval-Augmented Generation (RAG)","permalink":"/docs/edge_ai/chat_with_llm/RAG"},"next":{"title":"Exercise 04: Tool Calling","permalink":"/docs/edge_ai/chat_with_llm/tool_calling"}}');var n=s(4848),o=s(8453);const a={},i="Exercise 03: Structured Outputs",c={},u=[];function d(e){const t={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"exercise-03-structured-outputs",children:"Exercise 03: Structured Outputs"})}),"\n",(0,n.jsx)(t.p,{children:"Structured outputs are a way to format the model's responses, such that they can be parsed by other systems. Information extraction is a common use case for structured outputs, where the model is asked to extract specific information from a given text."}),"\n",(0,n.jsx)(t.p,{children:"Structured outputs are defined by a JSON Schema that describes the structure of the expected output."}),"\n",(0,n.jsxs)(t.p,{children:["The schema is passed in the API request in the ",(0,n.jsx)(t.code,{children:"response_format"})," field. An example schema for extracting the city from a given text looks like this:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "type": "json_schema",\n    "json_schema": {\n        "name": "example_schema",\n        "schema": {\n            "type": "object",\n            "properties": {\n                "city": {\n                    "type": "string",\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["In the background, llama.cpp parses this schema and creates a GBNF grammar that guides the model's response generation. More information in the ",(0,n.jsx)(t.a,{href:"https://github.com/ggml-org/llama.cpp/tree/master/grammars",children:"llama.cpp documentation"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Keep in mind that using structured outputs can degrade the performance of LLMs, as shown by ",(0,n.jsx)(t.a,{href:"https://arxiv.org/abs/2408.02442",children:"Tam et al."})]}),"\n",(0,n.jsx)(t.p,{children:"For this exercise, solve TODO 3 in order to extract the name, city and age of user from a given text."}),"\n",(0,n.jsxs)(t.p,{children:["Here's an example prompt you can use to test your implementation:\n",(0,n.jsx)(t.code,{children:"John is a 25 years old software engineer living in New York."})]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);